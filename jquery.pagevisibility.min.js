(function(i){"use strict";var e,t,n,r,c,d,u,o;for(o=window.document,u=Object.defineProperty,c=!1,t=["","moz","ms","webkit"];t.length;)if(e=t.pop(),d=e?e+"Hidden":"hidden",d in o){c=!0;break}c?e&&(i.event.special.visibilitychange={bindType:e+"visibilitychange"},u(o,"hidden",{get:function(){return o[d]}}),u(o,"visibilityState",{get:function(){return o[e+"VisibilityState"]}})):(n=!1,r="visible",u(o,"hidden",{get:function(){return n}}),u(o,"visibilityState",{get:function(){return r}}),i(window).bind("focus blur",function(){var e=!(o.activeElement&&o.hasFocus());n!==e&&(n=e,r=e?"hidden":"visible",i(o).trigger("visibilitychange"))}))})(jQuery);