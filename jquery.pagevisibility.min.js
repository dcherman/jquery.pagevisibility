(function(i){"use strict";var e,t,n,d,r,b,o,s;for(s=window.document,o=Object.defineProperty||i.noop,r=!1,t=["","moz","ms","webkit"];t.length;)if(e=t.pop(),b=e?e+"Hidden":"hidden",b in s){r=!0;break}r?e&&(i.event.special.visibilitychange={bindType:e+"visibilitychange"},o(s,"hidden",{get:function(){return s[b]}}),o(s,"visibilityState",{get:function(){return s[e+"VisibilityState"]}})):(n=!1,d="visible",o(s,"hidden",{get:function(){return n}}),o(s,"visibilityState",{get:function(){return d}}),s.visibilityState="visible",s.hidden=n,i(window).bind("focus blur",function(e){var t="blur"===e.type;n!==t&&(s.hidden=n=t,s.visibilityState=d=t?"hidden":"visible",i(s).trigger("visibilitychange"))}))})(jQuery);