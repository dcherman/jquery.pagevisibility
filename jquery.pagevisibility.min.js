(function(i){"use strict";var e,t,n,r,d,u,b,c;for(c=window.document,b=Object.defineProperty,d=!1,t=["","moz","ms","webkit"];t.length;)if(e=t.pop(),u=e?e+"Hidden":"hidden",u in c){d=!0;break}d?e&&(i.event.special.visibilitychange={bindType:e+"visibilitychange"},b(c,"hidden",{get:function(){return c[u]}}),b(c,"visibilityState",{get:function(){return c[e+"VisibilityState"]}})):(n=!1,r="visible",b(c,"hidden",{get:function(){return n}}),b(c,"visibilityState",{get:function(){return r}}),i(window).bind("focus blur",function(e){var t="blur"===e.type;n!==t&&(n=t,r=t?"hidden":"visible",i(c).trigger("visibilitychange"))}))})(jQuery);